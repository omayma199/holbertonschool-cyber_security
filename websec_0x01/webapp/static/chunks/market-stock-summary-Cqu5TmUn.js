import{R as t,q as e,o as r,p as n,w as a,y as i,d as o,G as l,H as s,r as c,t as u,_ as h,v as d,c as v,j as f,x as p,n as y,C as x,T as m,S as g}from"../tasks/a3_nosql_injection.js";import{g as b,C as j,X as w,Y as k,A as C,R as O}from"./Avatar-Cr1hvEz7.js";import{w as S,x as P,y as z,z as $,B as A,E,i as F,F as N,H as M,I as T,f as L,u as D,J as I,K as R,M as B}from"./generateCategoricalChart-DPQ99d8O.js";import"./createSvgIcon-4UwOFUg0.js";var G=["x1","y1","x2","y2","key"],W=["offset"];function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?K(Object(r),!0).forEach((function(e){V(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function V(t,e,r){var n;return n=function(t,e){if("object"!=H(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==H(n)?n:String(n))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(){return _=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_.apply(this,arguments)}function J(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var q=function(e){var r=e.fill;if(!r||"none"===r)return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height;return t.createElement("rect",{x:a,y:i,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function X(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if(F(e))n=e(r);else{var a=r.x1,i=r.y1,o=r.x2,l=r.y2,s=r.key,c=J(r,G),u=L(c,!1);u.offset;var h=J(u,W);n=t.createElement("line",_({},h,{x1:a,y1:i,x2:o,y2:l,fill:"none",key:s}))}return n}function Y(e){var r=e.x,n=e.width,a=e.horizontal,i=void 0===a||a,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map((function(t,a){var o=U(U({},e),{},{x1:r,y1:t,x2:r+n,y2:t,key:"line-".concat(a),index:a});return X(i,o)}));return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Q(e){var r=e.y,n=e.height,a=e.vertical,i=void 0===a||a,o=e.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map((function(t,a){var o=U(U({},e),{},{x1:t,y1:r,x2:t,y2:r+n,key:"line-".concat(a),index:a});return X(i,o)}));return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Z(e){var r=e.horizontalFill,n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,s=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!r||!r.length)return null;var u=s.map((function(t){return Math.round(t+i-i)})).sort((function(t,e){return t-e}));i!==u[0]&&u.unshift(0);var h=u.map((function(e,s){var c=!u[s+1]?i+l-e:u[s+1]-e;if(c<=0)return null;var h=s%r.length;return t.createElement("rect",{key:"react-".concat(s),y:e,x:a,height:c,width:o,stroke:"none",fill:r[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function tt(e){var r=e.vertical,n=void 0===r||r,a=e.verticalFill,i=e.fillOpacity,o=e.x,l=e.y,s=e.width,c=e.height,u=e.verticalPoints;if(!n||!a||!a.length)return null;var h=u.map((function(t){return Math.round(t+o-o)})).sort((function(t,e){return t-e}));o!==h[0]&&h.unshift(0);var d=h.map((function(e,r){var n=!h[r+1]?o+s-e:h[r+1]-e;if(n<=0)return null;var u=r%a.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:l,width:n,height:c,stroke:"none",fill:a[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var et=function(t,e){var r=t.xAxis,n=t.width,a=t.height,i=t.offset;return M(b(U(U(U({},j.defaultProps),r),{},{ticks:T(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,e)},rt=function(t,e){var r=t.yAxis,n=t.width,a=t.height,i=t.offset;return M(b(U(U(U({},j.defaultProps),r),{},{ticks:T(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,e)},nt={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function at(e){var r,n,a,i,o,l,s=S(),c=P(),u=z(),h=U(U({},e),{},{stroke:null!==(r=e.stroke)&&void 0!==r?r:nt.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:nt.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:nt.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:nt.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:nt.vertical,verticalFill:null!==(l=e.verticalFill)&&void 0!==l?l:nt.verticalFill,x:$(e.x)?e.x:u.left,y:$(e.y)?e.y:u.top,width:$(e.width)?e.width:u.width,height:$(e.height)?e.height:u.height}),d=h.x,v=h.y,f=h.width,p=h.height,y=h.syncWithTicks,x=h.horizontalValues,m=h.verticalValues,g=A(),b=E();if(!$(f)||f<=0||!$(p)||p<=0||!$(d)||d!==+d||!$(v)||v!==+v)return null;var j=h.verticalCoordinatesGenerator||et,w=h.horizontalCoordinatesGenerator||rt,k=h.horizontalPoints,C=h.verticalPoints;if((!k||!k.length)&&F(w)){var O=x&&x.length,M=w({yAxis:b?U(U({},b),{},{ticks:O?x:b.ticks}):void 0,width:s,height:c,offset:u},!!O||y);N(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(H(M),"]")),Array.isArray(M)&&(k=M)}if((!C||!C.length)&&F(j)){var T=m&&m.length,L=j({xAxis:g?U(U({},g),{},{ticks:T?m:g.ticks}):void 0,width:s,height:c,offset:u},!!T||y);N(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(H(L),"]")),Array.isArray(L)&&(C=L)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(q,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),t.createElement(Y,_({},h,{offset:u,horizontalPoints:k,xAxis:g,yAxis:b})),t.createElement(Q,_({},h,{offset:u,verticalPoints:C,xAxis:g,yAxis:b})),t.createElement(Z,_({},h,{horizontalPoints:k})),t.createElement(tt,_({},h,{verticalPoints:C})))}at.displayName="CartesianGrid";var it=D({chartName:"BarChart",GraphicalChild:I,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:w},{axisType:"yAxis",AxisComp:k}],formatAxisMap:R});function ot(t){return e("MuiSheet",t)}r("MuiSheet",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const lt=["className","color","component","variant","invertedColors","slots","slotProps"],st=n("div",{name:"JoySheet",slot:"Root",overridesResolver:(t,e)=>e.root})((({theme:t,ownerState:e})=>{var r,n;const c=null==(r=t.variants[e.variant])?void 0:r[e.color],{borderRadius:u,bgcolor:h,backgroundColor:d,background:v}=a({theme:t,ownerState:e},["borderRadius","bgcolor","backgroundColor","background"]),f=i(t,`palette.${h}`)||h||i(t,`palette.${d}`)||d||v||(null==c?void 0:c.backgroundColor)||(null==c?void 0:c.background)||t.vars.palette.background.surface;return[o({"--Icon-color":"neutral"!==e.color||"solid"===e.variant?"currentColor":t.vars.palette.text.icon,"--ListItem-stickyBackground":"transparent"===f?"initial":f,"--Sheet-background":"transparent"===f?"initial":f},void 0!==u&&{"--List-radius":`calc(${u} - var(--variant-borderWidth, 0px))`,"--unstable_actionRadius":`calc(${u} - var(--variant-borderWidth, 0px))`},{backgroundColor:t.vars.palette.background.surface,position:"relative"}),o({},t.typography["body-md"],"solid"===e.variant&&e.color&&e.invertedColors&&s(e.color)(t),"soft"===e.variant&&e.color&&e.invertedColors&&l(e.color)(t),null==(n=t.variants[e.variant])?void 0:n[e.color],c)]})),ct=c.forwardRef((function(t,e){const r=u({props:t,name:"JoySheet"}),{className:n,color:a="neutral",component:i="div",variant:l="plain",invertedColors:s=!1,slots:c={},slotProps:x={}}=r,m=h(r,lt),g=o({},r,{color:a,component:i,invertedColors:s,variant:l}),b=(t=>{const{variant:e,color:r}=t,n={root:["root",e&&`variant${p(e)}`,r&&`color${p(r)}`]};return y(n,ot,{})})(g),j=o({},m,{component:i,slots:c,slotProps:x}),[w,k]=d("root",{ref:e,className:v(b.root,n),elementType:st,externalForwardedProps:j,ownerState:g});return f.jsx(w,o({},k))}));function ut({data:t=[]}){var e,r;const n=null==(e=t.slice(-1)[0])?void 0:e.close,a=(null==(r=t.slice(-1)[0])?void 0:r.open)-n,i=function(t){return t.map((({open:t,close:e,...r})=>({...r,openClose:[t,e]})))}(t),o=i.reduce(((t,{low:e,openClose:[r,n]})=>{const a=Math.min(e,r,n);return null===t||a<t?a:t}),null),l=i.reduce(((t,{high:e,openClose:[r,n]})=>{const a=Math.max(e,r,n);return a>t?a:t}),o),s=null!==o&&null!==l?[o,l]:void 0;return f.jsxs(x,{children:[f.jsx(m,{level:"h4",children:"Stock Summary"}),f.jsxs(g,{direction:"row",spacing:3,sx:{flexWrap:"wrap"},children:[f.jsxs(g,{direction:"row",spacing:1,sx:{alignItems:"center",flex:"1 1 auto"},children:[f.jsx(C,{color:"warning",sx:{"--Avatar-size":"40px","--Avatar-radius":"var(--joy-radius-sm)","--Icon-fontSize":"var(--joy-fontSize-xl)"},children:f.jsx(m,{level:"h4",color:"error",children:"H"})}),f.jsxs("div",{children:[f.jsx(m,{level:"title-md",children:"Holbie Coin"}),f.jsx(m,{level:"body-xs",children:"HBTNc to USD"})]})]}),f.jsxs(g,{spacing:.5,children:[f.jsx(m,{level:"body-xs",children:"Current Price"}),f.jsx(m,{level:"h4",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)})]}),f.jsxs(g,{spacing:.5,children:[f.jsx(m,{level:"body-xs",children:"Change"}),f.jsxs(m,{level:"h4",children:["+ ",new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:2}).format(a/n)]})]}),f.jsxs(g,{spacing:.5,children:[f.jsx(m,{level:"body-xs",children:"Volume"}),f.jsx(m,{level:"h4",children:"$35T"})]})]}),f.jsx(O,{height:280,children:f.jsxs(it,{data:i,margin:{top:0,right:0,bottom:0,left:-50},children:[f.jsx(at,{strokeDasharray:"4 4",vertical:!1}),f.jsx(w,{axisLine:!1,dataKey:"timestamps",fontFamily:"var(--joy-fontFamily-body)",fontSize:"var(--joy-fontSize-xs)",interval:1,tickCount:31,tickLine:!1}),f.jsx(k,{axisLine:!1,dataKey:"high",domain:s,tickCount:8,tickFormatter:()=>"",tickLine:!1}),f.jsx(I,{dataKey:"openClose",maxBarSize:80,shape:f.jsx(ht,{})}),f.jsx(B,{animationDuration:50,content:f.jsx(dt,{}),cursor:!1})]})})]})}function ht({x:t,y:e,width:r,height:n,low:a,high:i,openClose:[o,l]}){const s=o<l,c=s?"var(--joy-palette-success-400)":"var(--joy-palette-danger-400)",u=Math.abs(n/(o-l));return f.jsxs("g",{fill:c,stroke:c,strokeWidth:2,children:[f.jsx("path",{d:`\n          M ${t},${e}\n          L ${t},${e+n}\n          L ${t+r},${e+n}\n          L ${t+r},${e}\n          L ${t},${e}\n        `}),s?f.jsx("path",{d:`\n            M ${t+r/2}, ${e+n}\n            v ${(o-a)*u}\n          `}):f.jsx("path",{d:`\n            M ${t+r/2}, ${e}\n            v ${(l-a)*u}\n          `}),s?f.jsx("path",{d:`\n            M ${t+r/2}, ${e}\n            v ${(l-i)*u}\n          `}):f.jsx("path",{d:`\n            M ${t+r/2}, ${e+n}\n            v ${(o-i)*u}\n          `})]})}function dt({active:t,payload:e}){return t?f.jsx(ct,{sx:{boxShadow:"var(--joy-shadow-lg)",borderRadius:"var(--joy-radius-sm)",border:"1px solid var(--joy-palette-neutral-outlinedBorder)",p:1},children:null==e?void 0:e.map((t=>f.jsxs(g,{spacing:1,children:[f.jsx(m,{level:"title-md",children:t.payload.timestamp}),[{label:"Open",value:t.payload.openClose[0]},{label:"Close",value:t.payload.openClose[1]},{label:"Low",value:t.payload.low},{label:"High",value:t.payload.high}].map((t=>f.jsxs(g,{direction:"row",spacing:3,sx:{alignItems:"center",justifyContent:"space-between"},children:[f.jsx(m,{fontSize:"sm",fontWeight:"md",whiteSpace:"nowrap",children:t.label}),f.jsx(m,{fontSize:"sm",textColor:"text.tertiary",children:t.value})]},t.label)))]},t.name)))}):null}export{ut as default};
