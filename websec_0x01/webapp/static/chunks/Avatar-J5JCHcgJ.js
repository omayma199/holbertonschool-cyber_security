import{r as t,O as e,R as r,c as n,j as i,t as o,p as a,q as c,e as s,v as l,_ as u,x as f,z as p,o as d}from"../tasks/a3_nosql_injection.js";import{V as v,F as h,W as y,X as m,Y as g,z as b,G as w,Z as O,s as S,i as k,T as j,$ as x,f as P,a0 as A,L as z,d as C,e as E,w as T,x as N,a1 as R,I as D,a2 as I}from"./generateCategoricalChart--N2RQZDS.js";import{c as B}from"./createSvgIcon-u614-fBh.js";function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){var n;return n=function(t,e){if("object"!=G(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==G(n)?n:String(n))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,c=[],s=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(u){l=!0,i=u}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var F=t.forwardRef((function(i,o){var a=i.aspect,c=i.initialDimension,s=void 0===c?{width:-1,height:-1}:c,l=i.width,u=void 0===l?"100%":l,f=i.height,p=void 0===f?"100%":f,d=i.minWidth,g=void 0===d?0:d,b=i.minHeight,w=i.maxHeight,O=i.children,S=i.debounce,k=void 0===S?0:S,j=i.id,x=i.className,P=i.onResize,A=i.style,z=void 0===A?{}:A,C=t.useRef(null),E=t.useRef();E.current=P,t.useImperativeHandle(o,(function(){return Object.defineProperty(C.current,"current",{get:function(){return C.current},configurable:!0})}));var T=W(t.useState({containerWidth:s.width,containerHeight:s.height}),2),N=T[0],R=T[1],D=t.useCallback((function(t,e){R((function(r){var n=Math.round(t),i=Math.round(e);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}}))}),[]);t.useEffect((function(){var t=function(t){var e,r=t[0].contentRect,n=r.width,i=r.height;D(n,i),null===(e=E.current)||void 0===e||e.call(E,n,i)};k>0&&(t=v(t,k,{trailing:!0,leading:!1}));var e=new ResizeObserver(t),r=C.current.getBoundingClientRect(),n=r.width,i=r.height;return D(n,i),e.observe(C.current),function(){e.disconnect()}}),[D,k]);var I=t.useMemo((function(){var n=N.containerWidth,i=N.containerHeight;if(n<0||i<0)return null;h(y(u)||y(p),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",u,p),h(!a||a>0,"The aspect(%s) must be greater than zero.",a);var o=y(u)?n:u,c=y(p)?i:p;a&&a>0&&(o?c=o/a:c&&(o=c*a),w&&c>w&&(c=w)),h(o>0||c>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",o,c,u,p,g,b,a);var s=!Array.isArray(O)&&e.isElement(O)&&m(O.type).endsWith("Chart");return r.Children.map(O,(function(r){return e.isElement(r)?t.cloneElement(r,L({width:o,height:c},s?{style:L({height:"100%",width:"100%",maxHeight:c,maxWidth:o},r.props.style)}:{})):r}))}),[a,O,p,w,b,g,N,u]);return r.createElement("div",{id:j?"".concat(j):void 0,className:n("recharts-responsive-container",x),style:L(L({},z),{},{width:u,height:p,minWidth:g,minHeight:b,maxHeight:w}),ref:C},I)}));function $(t,e,r){if(e<1)return[];if(1===e&&void 0===r)return t;for(var n=[],i=0;i<t.length;i+=e){if(void 0!==r&&!0!==r(t[i]))return;n.push(t[i])}return n}function J(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){Y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t,e,r){var n;return n=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==V(n)?n:String(n))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,c=t.orientation,s=t.interval,l=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(b(s)||w.isSsr)return function(t,e){return $(t,e+1)}(i,"number"==typeof s&&b(s)?s:0);var p=[],d="top"===c||"bottom"===c?"width":"height",v=u&&"width"===d?O(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},h=function(t,n){var i=k(l)?l(t.value,n):t.value;return"width"===d?function(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return g(n,r)}(O(i,{fontSize:e,letterSpacing:r}),v,f):O(i,{fontSize:e,letterSpacing:r})[d]},y=i.length>=2?S(i[1].coordinate-i[0].coordinate):1,m=function(t,e,r){var n="width"===r,i=t.x,o=t.y,a=t.width,c=t.height;return 1===e?{start:n?i:o,end:n?i+a:o+c}:{start:n?i+a:o+c,end:n?i:o}}(o,y,d);return"equidistantPreserveStart"===s?function(t,e,r,n,i){for(var o,a=(n||[]).slice(),c=e.start,s=e.end,l=0,u=1,f=c,p=function(){var e=null==n?void 0:n[l];if(void 0===e)return{v:$(n,u)};var o,a=l,p=function(){return void 0===o&&(o=r(e,a)),o},d=e.coordinate,v=0===l||J(t,d,p,f,s);v||(l=0,f=c,u+=1),v&&(f=d+t*(p()/2+i),l+=u)};u<=a.length;)if(o=p())return o.v;return[]}(y,m,h,i,a):(p="preserveStart"===s||"preserveStartEnd"===s?function(t,e,r,n,i,o){var a=(n||[]).slice(),c=a.length,s=e.start,l=e.end;if(o){var u=n[c-1],f=r(u,c-1),p=t*(u.coordinate+t*f/2-l);a[c-1]=u=X(X({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate}),J(t,u.tickCoord,(function(){return f}),s,l)&&(l=u.tickCoord-t*(f/2+i),a[c-1]=X(X({},u),{},{isShow:!0}))}for(var d=o?c-1:c,v=function(e){var n,o=a[e],c=function(){return void 0===n&&(n=r(o,e)),n};if(0===e){var u=t*(o.coordinate-t*c()/2-s);a[e]=o=X(X({},o),{},{tickCoord:u<0?o.coordinate-u*t:o.coordinate})}else a[e]=o=X(X({},o),{},{tickCoord:o.coordinate});J(t,o.tickCoord,c,s,l)&&(s=o.tickCoord+t*(c()/2+i),a[e]=X(X({},o),{},{isShow:!0}))},h=0;h<d;h++)v(h);return a}(y,m,h,i,a,"preserveStartEnd"===s):function(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,c=e.start,s=e.end,l=function(e){var n,l=o[e],u=function(){return void 0===n&&(n=r(l,e)),n};if(e===a-1){var f=t*(l.coordinate+t*u()/2-s);o[e]=l=X(X({},l),{},{tickCoord:f>0?l.coordinate-f*t:l.coordinate})}else o[e]=l=X(X({},l),{},{tickCoord:l.coordinate});J(t,l.tickCoord,u,c,s)&&(s=l.tickCoord-t*(u()/2+i),o[e]=X(X({},l),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return o}(y,m,h,i,a),p.filter((function(t){return t.isShow})))}var Z=["viewBox"],K=["viewBox"],Q=["ticks"];function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},et.apply(this,arguments)}function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(r),!0).forEach((function(e){ut(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function it(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ft(n.key),n)}}function at(t,e,r){return e=st(e),function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ct()?Reflect.construct(e,r||[],st(t).constructor):e.apply(t,r))}function ct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ct=function(){return!!t})()}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e){return(lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ut(t,e,r){return(e=ft(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ft(t){var e=function(t,e){if("object"!=tt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tt(e)?e:String(e)}var pt=function(e){function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=at(this,i,[t])).state={fontSize:"",letterSpacing:""},e}var o,a,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lt(t,e)}(i,t.Component),o=i,c=[{key:"renderTickItem",value:function(t,e,n){return r.isValidElement(t)?r.cloneElement(t,e):k(t)?t(e):r.createElement(j,et({},e,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(a=[{key:"shouldComponentUpdate",value:function(t,e){var r=t.viewBox,n=it(t,Z),i=this.props,o=i.viewBox,a=it(i,K);return!x(r,o)||!x(n,a)||!x(e,this.state)}},{key:"componentDidMount",value:function(){var t=this.layerReference;if(t){var e=t.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];e&&this.setState({fontSize:window.getComputedStyle(e).fontSize,letterSpacing:window.getComputedStyle(e).letterSpacing})}}},{key:"getTickLineCoord",value:function(t){var e,r,n,i,o,a,c=this.props,s=c.x,l=c.y,u=c.width,f=c.height,p=c.orientation,d=c.tickSize,v=c.mirror,h=c.tickMargin,y=v?-1:1,m=t.tickSize||d,g=b(t.tickCoord)?t.tickCoord:t.coordinate;switch(p){case"top":e=r=t.coordinate,a=(n=(i=l+ +!v*f)-y*m)-y*h,o=g;break;case"left":n=i=t.coordinate,o=(e=(r=s+ +!v*u)-y*m)-y*h,a=g;break;case"right":n=i=t.coordinate,o=(e=(r=s+ +v*u)+y*m)+y*h,a=g;break;default:e=r=t.coordinate,a=(n=(i=l+ +v*f)+y*m)+y*h,o=g}return{line:{x1:e,y1:n,x2:r,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var t,e=this.props,r=e.orientation,n=e.mirror;switch(r){case"left":t=n?"start":"end";break;case"right":t=n?"end":"start";break;default:t="middle"}return t}},{key:"getTickVerticalAnchor",value:function(){var t=this.props,e=t.orientation,r=t.mirror,n="end";switch(e){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var t=this.props,e=t.x,i=t.y,o=t.width,a=t.height,c=t.orientation,s=t.mirror,l=t.axisLine,u=nt(nt(nt({},P(this.props,!1)),P(l,!1)),{},{fill:"none"});if("top"===c||"bottom"===c){var f=+("top"===c&&!s||"bottom"===c&&s);u=nt(nt({},u),{},{x1:e,y1:i+f*a,x2:e+o,y2:i+f*a})}else{var p=+("left"===c&&!s||"right"===c&&s);u=nt(nt({},u),{},{x1:e+p*o,y1:i,x2:e+p*o,y2:i+a})}return r.createElement("line",et({},u,{className:n("recharts-cartesian-axis-line",A(l,"className"))}))}},{key:"renderTicks",value:function(t,e,o){var a=this,c=this.props,s=c.tickLine,l=c.stroke,u=c.tick,f=c.tickFormatter,p=c.unit,d=U(nt(nt({},this.props),{},{ticks:t}),e,o),v=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),y=P(this.props,!1),m=P(u,!1),g=nt(nt({},y),{},{fill:"none"},P(s,!1)),b=d.map((function(t,e){var o=a.getTickLineCoord(t),c=o.line,b=o.tick,w=nt(nt(nt(nt({textAnchor:v,verticalAnchor:h},y),{},{stroke:"none",fill:l},m),b),{},{index:e,payload:t,visibleTicksCount:d.length,tickFormatter:f});return r.createElement(z,et({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},C(a.props,t,e)),s&&r.createElement("line",et({},g,c,{className:n("recharts-cartesian-axis-tick-line",A(s,"className"))})),u&&i.renderTickItem(u,w,"".concat(k(f)?f(t.value,e):t.value).concat(p||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var t=this,e=this.props,i=e.axisLine,o=e.width,a=e.height,c=e.ticksGenerator,s=e.className;if(e.hide)return null;var l=this.props,u=l.ticks,f=it(l,Q),p=u;return k(c)&&(p=u&&u.length>0?c(this.props):c(f)),o<=0||a<=0||!p||!p.length?null:r.createElement(z,{className:n("recharts-cartesian-axis",s),ref:function(e){t.layerReference=e}},i&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),E.renderCallByParent(this.props))}}])&&ot(o.prototype,a),c&&ot(o,c),Object.defineProperty(o,"prototype",{writable:!1}),i}();function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dt.apply(this,arguments)}ut(pt,"displayName","CartesianAxis"),ut(pt,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vt=function(t){var e=t.xAxisId,i=T(),o=N(),a=R(e);return null==a?null:r.createElement(pt,dt({},a,{className:n("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:i,height:o},ticksGenerator:function(t){return D(t,!0)}}))};function ht(){return ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ht.apply(this,arguments)}vt.displayName="XAxis",vt.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var yt=function(t){var e=t.yAxisId,i=T(),o=N(),a=I(e);return null==a?null:r.createElement(pt,ht({},a,{className:n("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:i,height:o},ticksGenerator:function(t){return D(t,!0)}}))};yt.displayName="YAxis",yt.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};const mt=B(i.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function gt(t){return o("MuiAvatar",t)}a("MuiAvatar",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","fallback","sizeSm","sizeMd","sizeLg","img","variantOutlined","variantSoft","variantSolid"]);const bt=t.createContext(void 0);c("div",{name:"JoyAvatarGroup",slot:"Root",overridesResolver:(t,e)=>e.root})((({ownerState:t,theme:e})=>s({},"sm"===t.size&&{"--AvatarGroup-gap":"-0.375rem","--Avatar-ringSize":"2px"},"md"===t.size&&{"--AvatarGroup-gap":"-0.5rem","--Avatar-ringSize":"2px"},"lg"===t.size&&{"--AvatarGroup-gap":"-0.625rem","--Avatar-ringSize":"4px"},{"--Avatar-ring":`0 0 0 var(--Avatar-ringSize) var(--Avatar-ringColor, ${e.vars.palette.background.surface})`,"--Avatar-marginInlineStart":"var(--AvatarGroup-gap)",display:"flex",marginInlineStart:"calc(-1 * var(--AvatarGroup-gap))"})));const wt=["alt","color","size","variant","src","srcSet","children","component","slots","slotProps"],Ot=c("div",{name:"JoyAvatar",slot:"Root",overridesResolver:(t,e)=>e.root})((({theme:t,ownerState:e})=>{var r;return s({"--Icon-color":"neutral"!==e.color||"solid"===e.variant?"currentColor":t.vars.palette.text.icon},t.typography[`title-${e.size}`],"sm"===e.size&&{width:"var(--Avatar-size, 2rem)",height:"var(--Avatar-size, 2rem)",fontSize:"calc(var(--Avatar-size, 2rem) * 0.4375)"},"md"===e.size&&{width:"var(--Avatar-size, 2.5rem)",height:"var(--Avatar-size, 2.5rem)",fontSize:"calc(var(--Avatar-size, 2.5rem) * 0.4)"},"lg"===e.size&&{width:"var(--Avatar-size, 3rem)",height:"var(--Avatar-size, 3rem)",fontSize:"calc(var(--Avatar-size, 3rem) * 0.375)"},{marginInlineStart:"var(--Avatar-marginInlineStart)",boxShadow:"var(--Avatar-ring)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,lineHeight:1,overflow:"hidden",borderRadius:"var(--Avatar-radius, 50%)",userSelect:"none"},null==(r=t.variants[e.variant])?void 0:r[e.color])})),St=c("img",{name:"JoyAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),kt=c(mt,{name:"JoyAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"64%",height:"64%"});const jt=t.forwardRef((function(e,r){const n=l({props:e,name:"JoyAvatar"}),o=t.useContext(bt),{alt:a,color:c="neutral",size:v="md",variant:h="soft",src:y,srcSet:m,children:g,component:b,slots:w={},slotProps:O={}}=n,S=u(n,wt),k=e.variant||(null==o?void 0:o.variant)||h,j=e.color||(null==o?void 0:o.color)||c,x=e.size||(null==o?void 0:o.size)||v;let P=null;const A=s({},n,{color:j,size:x,variant:k,grouped:!!o}),z=(t=>{const{size:e,variant:r,color:n,src:i,srcSet:o}=t,a={root:["root",r&&`variant${p(r)}`,n&&`color${p(n)}`,e&&`size${p(e)}`],img:[(i||o)&&"img"],fallback:["fallback"]};return d(a,gt,{})})(A),C=s({},S,{component:b,slots:w,slotProps:O}),[E,T]=f("root",{ref:r,className:z.root,elementType:Ot,externalForwardedProps:C,ownerState:A}),[N,R]=f("img",{additionalProps:{alt:a,src:y,srcSet:m},className:z.img,elementType:St,externalForwardedProps:C,ownerState:A}),[D,I]=f("fallback",{className:z.fallback,elementType:kt,externalForwardedProps:C,ownerState:A}),B=function({crossOrigin:e,referrerPolicy:r,src:n,srcSet:i}){const[o,a]=t.useState(!1);return t.useEffect((()=>{if(!n&&!i)return;a(!1);let t=!0;const o=new Image;return o.onload=()=>{t&&a("loaded")},o.onerror=()=>{t&&a("error")},o.crossOrigin=e,o.referrerPolicy=r,n&&(o.src=n),i&&(o.srcset=i),()=>{t=!1}}),[e,r,n,i]),o}(s({},R,{src:y,srcSet:m}));return P=(y||m)&&"error"!==B?i.jsx(N,s({},R)):null!=g?g:a?a[0]:i.jsx(D,s({},I)),i.jsx(E,s({},T,{children:P}))}));export{jt as A,pt as C,F as R,vt as X,yt as Y,U as g};
