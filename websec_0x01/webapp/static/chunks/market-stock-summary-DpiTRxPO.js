import{R as t,q as e,o as r,p as n,w as a,y as i,d as o,G as l,H as s,r as c,t as u,_ as h,v as d,c as v,j as f,x as p,n as y,C as x,T as m,S as g}from"../tasks/a3_nosql_injection.js";import{H as b}from"./Horse-BUVqsLXY.js";import{g as j,C as w,X as k,Y as C,A as O,R as S}from"./Avatar-Cr1hvEz7.js";import{w as P,x as z,y as $,z as A,B as E,E as F,i as N,F as M,H as L,I as T,f as D,u as I,J as R,K as B,M as G}from"./generateCategoricalChart-DPQ99d8O.js";import"./createSvgIcon-4UwOFUg0.js";var W=["x1","y1","x2","y2","key"],H=["offset"];function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t,e,r){var n;return n=function(t,e){if("object"!=K(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==K(n)?n:String(n))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J.apply(this,arguments)}function q(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var X=function(e){var r=e.fill;if(!r||"none"===r)return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height;return t.createElement("rect",{x:a,y:i,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Y(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if(N(e))n=e(r);else{var a=r.x1,i=r.y1,o=r.x2,l=r.y2,s=r.key,c=q(r,W),u=D(c,!1);u.offset;var h=q(u,H);n=t.createElement("line",J({},h,{x1:a,y1:i,x2:o,y2:l,fill:"none",key:s}))}return n}function Q(e){var r=e.x,n=e.width,a=e.horizontal,i=void 0===a||a,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map((function(t,a){var o=V(V({},e),{},{x1:r,y1:t,x2:r+n,y2:t,key:"line-".concat(a),index:a});return Y(i,o)}));return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Z(e){var r=e.y,n=e.height,a=e.vertical,i=void 0===a||a,o=e.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map((function(t,a){var o=V(V({},e),{},{x1:t,y1:r,x2:t,y2:r+n,key:"line-".concat(a),index:a});return Y(i,o)}));return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function tt(e){var r=e.horizontalFill,n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,s=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!r||!r.length)return null;var u=s.map((function(t){return Math.round(t+i-i)})).sort((function(t,e){return t-e}));i!==u[0]&&u.unshift(0);var h=u.map((function(e,s){var c=!u[s+1]?i+l-e:u[s+1]-e;if(c<=0)return null;var h=s%r.length;return t.createElement("rect",{key:"react-".concat(s),y:e,x:a,height:c,width:o,stroke:"none",fill:r[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function et(e){var r=e.vertical,n=void 0===r||r,a=e.verticalFill,i=e.fillOpacity,o=e.x,l=e.y,s=e.width,c=e.height,u=e.verticalPoints;if(!n||!a||!a.length)return null;var h=u.map((function(t){return Math.round(t+o-o)})).sort((function(t,e){return t-e}));o!==h[0]&&h.unshift(0);var d=h.map((function(e,r){var n=!h[r+1]?o+s-e:h[r+1]-e;if(n<=0)return null;var u=r%a.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:l,width:n,height:c,stroke:"none",fill:a[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var rt=function(t,e){var r=t.xAxis,n=t.width,a=t.height,i=t.offset;return L(j(V(V(V({},w.defaultProps),r),{},{ticks:T(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,e)},nt=function(t,e){var r=t.yAxis,n=t.width,a=t.height,i=t.offset;return L(j(V(V(V({},w.defaultProps),r),{},{ticks:T(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,e)},at={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function it(e){var r,n,a,i,o,l,s=P(),c=z(),u=$(),h=V(V({},e),{},{stroke:null!==(r=e.stroke)&&void 0!==r?r:at.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:at.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:at.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:at.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:at.vertical,verticalFill:null!==(l=e.verticalFill)&&void 0!==l?l:at.verticalFill,x:A(e.x)?e.x:u.left,y:A(e.y)?e.y:u.top,width:A(e.width)?e.width:u.width,height:A(e.height)?e.height:u.height}),d=h.x,v=h.y,f=h.width,p=h.height,y=h.syncWithTicks,x=h.horizontalValues,m=h.verticalValues,g=E(),b=F();if(!A(f)||f<=0||!A(p)||p<=0||!A(d)||d!==+d||!A(v)||v!==+v)return null;var j=h.verticalCoordinatesGenerator||rt,w=h.horizontalCoordinatesGenerator||nt,k=h.horizontalPoints,C=h.verticalPoints;if((!k||!k.length)&&N(w)){var O=x&&x.length,S=w({yAxis:b?V(V({},b),{},{ticks:O?x:b.ticks}):void 0,width:s,height:c,offset:u},!!O||y);M(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(K(S),"]")),Array.isArray(S)&&(k=S)}if((!C||!C.length)&&N(j)){var L=m&&m.length,T=j({xAxis:g?V(V({},g),{},{ticks:L?m:g.ticks}):void 0,width:s,height:c,offset:u},!!L||y);M(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(K(T),"]")),Array.isArray(T)&&(C=T)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(X,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),t.createElement(Q,J({},h,{offset:u,horizontalPoints:k,xAxis:g,yAxis:b})),t.createElement(Z,J({},h,{offset:u,verticalPoints:C,xAxis:g,yAxis:b})),t.createElement(tt,J({},h,{horizontalPoints:k})),t.createElement(et,J({},h,{verticalPoints:C})))}it.displayName="CartesianGrid";var ot=I({chartName:"BarChart",GraphicalChild:R,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:k},{axisType:"yAxis",AxisComp:C}],formatAxisMap:B});function lt(t){return e("MuiSheet",t)}r("MuiSheet",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const st=["className","color","component","variant","invertedColors","slots","slotProps"],ct=n("div",{name:"JoySheet",slot:"Root",overridesResolver:(t,e)=>e.root})((({theme:t,ownerState:e})=>{var r,n;const c=null==(r=t.variants[e.variant])?void 0:r[e.color],{borderRadius:u,bgcolor:h,backgroundColor:d,background:v}=a({theme:t,ownerState:e},["borderRadius","bgcolor","backgroundColor","background"]),f=i(t,`palette.${h}`)||h||i(t,`palette.${d}`)||d||v||(null==c?void 0:c.backgroundColor)||(null==c?void 0:c.background)||t.vars.palette.background.surface;return[o({"--Icon-color":"neutral"!==e.color||"solid"===e.variant?"currentColor":t.vars.palette.text.icon,"--ListItem-stickyBackground":"transparent"===f?"initial":f,"--Sheet-background":"transparent"===f?"initial":f},void 0!==u&&{"--List-radius":`calc(${u} - var(--variant-borderWidth, 0px))`,"--unstable_actionRadius":`calc(${u} - var(--variant-borderWidth, 0px))`},{backgroundColor:t.vars.palette.background.surface,position:"relative"}),o({},t.typography["body-md"],"solid"===e.variant&&e.color&&e.invertedColors&&s(e.color)(t),"soft"===e.variant&&e.color&&e.invertedColors&&l(e.color)(t),null==(n=t.variants[e.variant])?void 0:n[e.color],c)]})),ut=c.forwardRef((function(t,e){const r=u({props:t,name:"JoySheet"}),{className:n,color:a="neutral",component:i="div",variant:l="plain",invertedColors:s=!1,slots:c={},slotProps:x={}}=r,m=h(r,st),g=o({},r,{color:a,component:i,invertedColors:s,variant:l}),b=(t=>{const{variant:e,color:r}=t,n={root:["root",e&&`variant${p(e)}`,r&&`color${p(r)}`]};return y(n,lt,{})})(g),j=o({},m,{component:i,slots:c,slotProps:x}),[w,k]=d("root",{ref:e,className:v(b.root,n),elementType:ct,externalForwardedProps:j,ownerState:g});return f.jsx(w,o({},k))}));function ht({data:t=[],volume:e}){var r,n;const a=null==(r=t.slice(-1)[0])?void 0:r.close,i=a-(null==(n=t.slice(-1)[0])?void 0:n.open),o=function(t){return t.map((({open:t,close:e,...r})=>({...r,openClose:[t,e]})))}(t),l=o.reduce(((t,{low:e,openClose:[r,n]})=>{const a=Math.min(e,r,n);return null===t||a<t?a:t}),null),s=o.reduce(((t,{high:e,openClose:[r,n]})=>{const a=Math.max(e,r,n);return a>t?a:t}),l),c=null!==l&&null!==s?[l,s]:void 0;return f.jsxs(x,{children:[f.jsx(m,{level:"h4",children:"Stock Summary"}),f.jsxs(g,{direction:"row",spacing:3,sx:{flexWrap:"wrap"},children:[f.jsxs(g,{direction:"row",spacing:1,sx:{alignItems:"center",flex:"1 1 auto"},children:[f.jsx(O,{color:"warning",sx:{"--Avatar-size":"40px","--Avatar-radius":"var(--joy-radius-sm)","--Icon-fontSize":"var(--joy-fontSize-xl)"},children:f.jsx(b,{})}),f.jsxs("div",{children:[f.jsx(m,{level:"title-md",children:"Holbie Coin"}),f.jsx(m,{level:"body-xs",children:"HBTNc to USD"})]})]}),f.jsxs(g,{spacing:.5,children:[f.jsx(m,{level:"body-xs",children:"Current Price"}),f.jsx(m,{level:"h4",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)})]}),f.jsxs(g,{spacing:.5,children:[f.jsx(m,{level:"body-xs",children:"Change"}),f.jsx(m,{level:"h4",children:new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:2}).format(i/a)})]}),f.jsxs(g,{spacing:.5,children:[f.jsx(m,{level:"body-xs",children:"Volume"}),f.jsx(m,{level:"h4",children:e})]})]}),f.jsx(S,{height:280,children:f.jsxs(ot,{data:o,margin:{top:0,right:0,bottom:0,left:-50},children:[f.jsx(it,{strokeDasharray:"4 4",vertical:!1}),f.jsx(k,{axisLine:!1,dataKey:"timestamps",fontFamily:"var(--joy-fontFamily-body)",fontSize:"var(--joy-fontSize-xs)",interval:1,tickCount:31,tickLine:!1}),f.jsx(C,{axisLine:!1,dataKey:"high",domain:c,tickCount:8,tickFormatter:()=>"",tickLine:!1}),f.jsx(R,{dataKey:"openClose",maxBarSize:80,shape:f.jsx(dt,{})}),f.jsx(G,{animationDuration:50,content:f.jsx(vt,{}),cursor:!1})]})})]})}function dt({x:t,y:e,width:r,height:n,low:a,high:i,openClose:[o,l]}){const s=o<l,c=s?"var(--joy-palette-success-400)":"var(--joy-palette-danger-400)",u=Math.abs(n/(o-l));return f.jsxs("g",{fill:c,stroke:c,strokeWidth:2,children:[f.jsx("path",{d:`\n          M ${t},${e}\n          L ${t},${e+n}\n          L ${t+r},${e+n}\n          L ${t+r},${e}\n          L ${t},${e}\n        `}),s?f.jsx("path",{d:`\n            M ${t+r/2}, ${e+n}\n            v ${(o-a)*u}\n          `}):f.jsx("path",{d:`\n            M ${t+r/2}, ${e}\n            v ${(l-a)*u}\n          `}),s?f.jsx("path",{d:`\n            M ${t+r/2}, ${e}\n            v ${(l-i)*u}\n          `}):f.jsx("path",{d:`\n            M ${t+r/2}, ${e+n}\n            v ${(o-i)*u}\n          `})]})}function vt({active:t,payload:e}){return t?f.jsx(ut,{sx:{boxShadow:"var(--joy-shadow-lg)",borderRadius:"var(--joy-radius-sm)",border:"1px solid var(--joy-palette-neutral-outlinedBorder)",p:1},children:null==e?void 0:e.map((t=>f.jsxs(g,{spacing:1,children:[f.jsx(m,{level:"title-md",children:t.payload.timestamp}),[{label:"Open",value:t.payload.openClose[0]},{label:"Close",value:t.payload.openClose[1]},{label:"Low",value:t.payload.low},{label:"High",value:t.payload.high}].map((t=>f.jsxs(g,{direction:"row",spacing:3,sx:{alignItems:"center",justifyContent:"space-between"},children:[f.jsx(m,{fontSize:"sm",fontWeight:"md",whiteSpace:"nowrap",children:t.label}),f.jsx(m,{fontSize:"sm",textColor:"text.tertiary",children:t.value})]},t.label)))]},t.name)))}):null}export{ht as default};
