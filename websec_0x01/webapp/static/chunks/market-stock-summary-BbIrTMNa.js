import{u as t,a as e,b as r,i as n,c as a,d as i,e as o,w as l,R as s,g as c,f as u,h,k as d,B as v,l as f,n as p,o as y,s as x,p as m,q as g,_ as b,t as j,v as w,r as k,x as O,y as S,z as C,A as P,j as z,D as A,F as $,C as E,T as F,S as N,G as M}from"../tasks/a3_nosql_injection.js";import{H as D}from"./Horse-BUVqsLXY.js";import{g as L,C as T,X as R,Y as B,A as I,R as G}from"./Avatar-gierr_M1.js";var W=["x1","y1","x2","y2","key"],H=["offset"];function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){K(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function K(t,e,r){var n;return n=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==U(n)?n:String(n))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q.apply(this,arguments)}function J(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var X=function(t){var e=t.fill;if(!e||"none"===e)return null;var r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height;return s.createElement("rect",{x:n,y:a,width:i,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Y(t,e){var r;if(s.isValidElement(t))r=s.cloneElement(t,e);else if(o(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,l=e.y2,c=e.key,u=J(e,W),d=h(u,!1);d.offset;var v=J(d,H);r=s.createElement("line",q({},v,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:c}))}return r}function Q(t){var e=t.x,r=t.width,n=t.horizontal,a=void 0===n||n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map((function(n,i){var o=_(_({},t),{},{x1:e,y1:n,x2:e+r,y2:n,key:"line-".concat(i),index:i});return Y(a,o)}));return s.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Z(t){var e=t.y,r=t.height,n=t.vertical,a=void 0===n||n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map((function(n,i){var o=_(_({},t),{},{x1:n,y1:e,x2:n,y2:e+r,key:"line-".concat(i),index:i});return Y(a,o)}));return s.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tt(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal;if(!(void 0===c||c)||!e||!e.length)return null;var u=l.map((function(t){return Math.round(t+a-a)})).sort((function(t,e){return t-e}));a!==u[0]&&u.unshift(0);var h=u.map((function(t,l){var c=!u[l+1]?a+o-t:u[l+1]-t;if(c<=0)return null;var h=l%e.length;return s.createElement("rect",{key:"react-".concat(l),y:t,x:n,height:c,width:i,stroke:"none",fill:e[h],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return s.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function et(t){var e=t.vertical,r=void 0===e||e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var h=u.map((function(t){return Math.round(t+i-i)})).sort((function(t,e){return t-e}));i!==h[0]&&h.unshift(0);var d=h.map((function(t,e){var r=!h[e+1]?i+l-t:h[e+1]-t;if(r<=0)return null;var u=e%n.length;return s.createElement("rect",{key:"react-".concat(e),x:t,y:o,width:r,height:c,stroke:"none",fill:n[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})}));return s.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var rt=function(t,e){var r=t.xAxis,n=t.width,a=t.height,i=t.offset;return c(L(_(_(_({},T.defaultProps),r),{},{ticks:u(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,e)},nt=function(t,e){var r=t.yAxis,n=t.width,a=t.height,i=t.offset;return c(L(_(_(_({},T.defaultProps),r),{},{ticks:u(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,e)},at={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function it(c){var u,h,d,v,f,p,y=t(),x=e(),m=r(),g=_(_({},c),{},{stroke:null!==(u=c.stroke)&&void 0!==u?u:at.stroke,fill:null!==(h=c.fill)&&void 0!==h?h:at.fill,horizontal:null!==(d=c.horizontal)&&void 0!==d?d:at.horizontal,horizontalFill:null!==(v=c.horizontalFill)&&void 0!==v?v:at.horizontalFill,vertical:null!==(f=c.vertical)&&void 0!==f?f:at.vertical,verticalFill:null!==(p=c.verticalFill)&&void 0!==p?p:at.verticalFill,x:n(c.x)?c.x:m.left,y:n(c.y)?c.y:m.top,width:n(c.width)?c.width:m.width,height:n(c.height)?c.height:m.height}),b=g.x,j=g.y,w=g.width,k=g.height,O=g.syncWithTicks,S=g.horizontalValues,C=g.verticalValues,P=a(),z=i();if(!n(w)||w<=0||!n(k)||k<=0||!n(b)||b!==+b||!n(j)||j!==+j)return null;var A=g.verticalCoordinatesGenerator||rt,$=g.horizontalCoordinatesGenerator||nt,E=g.horizontalPoints,F=g.verticalPoints;if((!E||!E.length)&&o($)){var N=S&&S.length,M=$({yAxis:z?_(_({},z),{},{ticks:N?S:z.ticks}):void 0,width:y,height:x,offset:m},!!N||O);l(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(U(M),"]")),Array.isArray(M)&&(E=M)}if((!F||!F.length)&&o(A)){var D=C&&C.length,L=A({xAxis:P?_(_({},P),{},{ticks:D?C:P.ticks}):void 0,width:y,height:x,offset:m},!!D||O);l(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(U(L),"]")),Array.isArray(L)&&(F=L)}return s.createElement("g",{className:"recharts-cartesian-grid"},s.createElement(X,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height}),s.createElement(Q,q({},g,{offset:m,horizontalPoints:E,xAxis:P,yAxis:z})),s.createElement(Z,q({},g,{offset:m,verticalPoints:F,xAxis:P,yAxis:z})),s.createElement(tt,q({},g,{horizontalPoints:E})),s.createElement(et,q({},g,{verticalPoints:F})))}it.displayName="CartesianGrid";var ot=d({chartName:"BarChart",GraphicalChild:v,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:R},{axisType:"yAxis",AxisComp:B}],formatAxisMap:f});function lt(t){return p("MuiSheet",t)}y("MuiSheet",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const st=["className","color","component","variant","invertedColors","slots","slotProps"],ct=x("div",{name:"JoySheet",slot:"Root",overridesResolver:(t,e)=>e.root})((({theme:t,ownerState:e})=>{var r,n;const a=null==(r=t.variants[e.variant])?void 0:r[e.color],{borderRadius:i,bgcolor:o,backgroundColor:l,background:s}=m({theme:t,ownerState:e},["borderRadius","bgcolor","backgroundColor","background"]),c=g(t,`palette.${o}`)||o||g(t,`palette.${l}`)||l||s||(null==a?void 0:a.backgroundColor)||(null==a?void 0:a.background)||t.vars.palette.background.surface;return[b({"--Icon-color":"neutral"!==e.color||"solid"===e.variant?"currentColor":t.vars.palette.text.icon,"--ListItem-stickyBackground":"transparent"===c?"initial":c,"--Sheet-background":"transparent"===c?"initial":c},void 0!==i&&{"--List-radius":`calc(${i} - var(--variant-borderWidth, 0px))`,"--unstable_actionRadius":`calc(${i} - var(--variant-borderWidth, 0px))`},{backgroundColor:t.vars.palette.background.surface,position:"relative"}),b({},t.typography["body-md"],"solid"===e.variant&&e.color&&e.invertedColors&&w(e.color)(t),"soft"===e.variant&&e.color&&e.invertedColors&&j(e.color)(t),null==(n=t.variants[e.variant])?void 0:n[e.color],a)]})),ut=k.forwardRef((function(t,e){const r=O({props:t,name:"JoySheet"}),{className:n,color:a="neutral",component:i="div",variant:o="plain",invertedColors:l=!1,slots:s={},slotProps:c={}}=r,u=S(r,st),h=b({},r,{color:a,component:i,invertedColors:l,variant:o}),d=(t=>{const{variant:e,color:r}=t,n={root:["root",e&&`variant${A(e)}`,r&&`color${A(r)}`]};return $(n,lt,{})})(h),v=b({},u,{component:i,slots:s,slotProps:c}),[f,p]=C("root",{ref:e,className:P(d.root,n),elementType:ct,externalForwardedProps:v,ownerState:h});return z.jsx(f,b({},p))}));function ht({data:t=[],volume:e}){var r,n;const a=null==(r=t.slice(-1)[0])?void 0:r.close,i=a-(null==(n=t.slice(-1)[0])?void 0:n.open),o=function(t){return t.map((({open:t,close:e,...r})=>({...r,openClose:[t,e]})))}(t),l=o.reduce(((t,{low:e,openClose:[r,n]})=>{const a=Math.min(e,r,n);return null===t||a<t?a:t}),null),s=o.reduce(((t,{high:e,openClose:[r,n]})=>{const a=Math.max(e,r,n);return a>t?a:t}),l),c=null!==l&&null!==s?[l,s]:void 0;return z.jsxs(E,{children:[z.jsx(F,{level:"h4",children:"Stock Summary"}),z.jsxs(N,{direction:"row",spacing:3,sx:{flexWrap:"wrap"},children:[z.jsxs(N,{direction:"row",spacing:1,sx:{alignItems:"center",flex:"1 1 auto"},children:[z.jsx(I,{color:"warning",sx:{"--Avatar-size":"40px","--Avatar-radius":"var(--joy-radius-sm)","--Icon-fontSize":"var(--joy-fontSize-xl)"},children:z.jsx(D,{})}),z.jsxs("div",{children:[z.jsx(F,{level:"title-md",children:"Holbie Coin"}),z.jsx(F,{level:"body-xs",children:"HBTNc to USD"})]})]}),z.jsxs(N,{spacing:.5,children:[z.jsx(F,{level:"body-xs",children:"Current Price"}),z.jsx(F,{level:"h4",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)})]}),z.jsxs(N,{spacing:.5,children:[z.jsx(F,{level:"body-xs",children:"Change (24h)"}),z.jsx(F,{level:"h4",children:new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:2}).format(i/a)})]}),z.jsxs(N,{spacing:.5,children:[z.jsx(F,{level:"body-xs",children:"Volume (24h)"}),z.jsx(F,{level:"h4",children:e})]})]}),z.jsx(G,{height:280,children:z.jsxs(ot,{data:o,margin:{top:0,right:0,bottom:0,left:-50},children:[z.jsx(it,{strokeDasharray:"4 4",vertical:!1}),z.jsx(R,{axisLine:!1,dataKey:"timestamps",fontFamily:"var(--joy-fontFamily-body)",fontSize:"var(--joy-fontSize-xs)",interval:1,tickCount:31,tickLine:!1}),z.jsx(B,{axisLine:!1,dataKey:"high",domain:c,tickCount:8,tickFormatter:()=>"",tickLine:!1}),z.jsx(v,{dataKey:"openClose",maxBarSize:80,shape:z.jsx(dt,{})}),z.jsx(M,{animationDuration:50,content:z.jsx(vt,{}),cursor:!1})]})})]})}function dt({x:t,y:e,width:r,height:n,low:a,high:i,openClose:[o,l]}){const s=o<l,c=s?"var(--joy-palette-success-400)":"var(--joy-palette-danger-400)",u=Math.abs(n/(o-l));return z.jsxs("g",{fill:c,stroke:c,strokeWidth:2,children:[z.jsx("path",{d:`\n          M ${t},${e}\n          L ${t},${e+n}\n          L ${t+r},${e+n}\n          L ${t+r},${e}\n          L ${t},${e}\n        `}),s?z.jsx("path",{d:`\n            M ${t+r/2}, ${e+n}\n            v ${(o-a)*u}\n          `}):z.jsx("path",{d:`\n            M ${t+r/2}, ${e}\n            v ${(l-a)*u}\n          `}),s?z.jsx("path",{d:`\n            M ${t+r/2}, ${e}\n            v ${(l-i)*u}\n          `}):z.jsx("path",{d:`\n            M ${t+r/2}, ${e+n}\n            v ${(o-i)*u}\n          `})]})}function vt({active:t,payload:e}){return t?z.jsx(ut,{sx:{boxShadow:"var(--joy-shadow-lg)",borderRadius:"var(--joy-radius-sm)",border:"1px solid var(--joy-palette-neutral-outlinedBorder)",p:1},children:null==e?void 0:e.map((t=>z.jsxs(N,{spacing:1,children:[z.jsx(F,{level:"title-md",children:t.payload.timestamp}),[{label:"Open",value:t.payload.openClose[0]},{label:"Close",value:t.payload.openClose[1]},{label:"Low",value:t.payload.low},{label:"High",value:t.payload.high}].map((t=>z.jsxs(N,{direction:"row",spacing:3,sx:{alignItems:"center",justifyContent:"space-between"},children:[z.jsx(F,{fontSize:"sm",fontWeight:"md",whiteSpace:"nowrap",children:t.label}),z.jsx(F,{fontSize:"sm",textColor:"text.tertiary",children:t.value})]},t.label)))]},t.name)))}):null}export{ht as default};
